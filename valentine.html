<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MJ-Lab | The Perfect Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            background-color: #fff1f2; 
            overflow: hidden; 
            /* ‡∏õ‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô Itim ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å */
            font-family: 'Itim', cursive;
            transition: background-color 1.2s ease;
        }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; font-weight: 800; }
        
        /* Floating Elements */
        .particle {
            position: absolute; pointer-events: none;
            animation: floatUp 8s linear infinite; opacity: 0.3;
        }
        @keyframes floatUp {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            50% { opacity: 0.6; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* Photo Stack & Captions */
        .photo-stack { position: relative; width: 280px; height: 350px; margin: 0 auto; z-index: 10; }
        .stacked-photo {
            position: absolute; width: 100%; height: 100%;
            background: white; padding: 12px 12px 60px 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-radius: 8px; cursor: pointer;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.5s;
        }
        .stacked-photo img { width: 100%; height: 100%; object-fit: cover; border-radius: 4px; }
        .photo-caption {
            position: absolute; bottom: 15px; left: 0; width: 100%;
            text-align: center; font-size: 14px; font-weight: 700; color: #f43f5e;
            font-family: 'Itim', cursive;
        }
        .photo-out { transform: translate(160%, -20%) rotate(35deg) scale(0.5) !important; opacity: 0; pointer-events: none; }

        /* NO Button Style & Container Fix */
        #btn-area {
            position: relative;
            width: 100%;
            height: 180px;
            margin-top: 2rem;
        }

        #no-btn {
            background-color: #e2e8f0; 
            color: #475569;
            transition: left 0.3s ease-out, top 0.3s ease-out;
            will-change: left, top; 
            font-weight: 600;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 20px;
            white-space: nowrap;
        }

        .yes-btn {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 0;
            z-index: 20;
        }

        .hidden-section { display: none; }
        .section-fade { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="particles-bg"></div>

    <div id="main-container" class="bg-white/90 backdrop-blur-sm p-10 md:p-14 rounded-[2.5rem] shadow-2xl max-w-lg w-full text-center relative z-50 border border-white">
        
        <div id="display-icon" class="text-5xl mb-8">üéÅ</div>

        <div id="section-decoder" class="section-fade">
            <h1 class="text-3xl text-slate-800 mb-2 tracking-tight">System Locked</h1>
            <p class="text-slate-400 text-[11px] mb-8 font-bold uppercase tracking-widest">MJ-Lab Security Protocol</p>
            <input type="text" id="passcode" placeholder="----" maxlength="4" class="bg-slate-100 border-none rounded-xl px-4 py-4 text-center text-rose-500 text-3xl font-bold tracking-[0.6em] focus:ring-2 focus:ring-rose-300 w-full mb-8">
            <button onclick="checkCode()" class="w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-slate-800 transition-all uppercase text-sm tracking-widest">Authorize Access</button>
        </div>

        <div id="section-questions" class="hidden-section section-fade">
            <p id="status-msg" class="text-[11px] text-rose-500 font-bold mb-6 tracking-widest uppercase"></p>
            <h2 id="question-text" class="text-2xl text-slate-700 min-h-[5rem] flex items-center justify-center px-4 font-bold tracking-tight"></h2>
            
            <div id="btn-area">
                <button onclick="handleYes()" class="yes-btn bg-rose-500 text-white px-20 py-4 rounded-full text-lg shadow-xl shadow-rose-100 hover:bg-rose-600 active:scale-95 transition-all font-bold uppercase">‡∏ï‡∏Å‡∏•‡∏á</button>
                <button id="no-btn" class="px-14 py-3 rounded-full text-md uppercase">‡πÑ‡∏°‡πà‡∏ô‡∏∞</button>
            </div>
        </div>

        <div id="section-random" class="hidden-section section-fade">
            <h2 class="text-2xl text-slate-800 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ #01</h2>
            <p class="text-[11px] text-slate-400 mb-10 font-bold uppercase tracking-widest">‡∏à‡∏¥‡πâ‡∏°‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏ô‡∏∞</p>
            <div id="stack-random" class="photo-stack"></div>
        </div>

        <div id="section-food" class="hidden-section section-fade">
            <h2 class="text-2xl text-slate-800 mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ #02</h2>
            <p class="text-[11px] text-slate-400 mb-10 font-bold uppercase tracking-widest">‡∏Ç‡∏≠‡∏á‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô</p>
            <div id="stack-food" class="photo-stack"></div>
        </div>

        <div id="section-card" class="hidden-section section-fade">
            <div class="text-rose-500 text-3xl mb-6">üíå</div>
            <h3 class="text-3xl text-slate-800 mb-8">‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏ú‡∏°</h3>
            <div class="space-y-4 text-slate-600 text-xl font-medium">
                <p>"‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠‡∏°‡∏≤‡∏ô‡∏∞"</p>
                <p>"‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢"</p>
            </div>
            <button onclick="finalize()" class="mt-12 bg-rose-500 text-white px-12 py-4 rounded-full font-bold shadow-xl animate-bounce">‡∏à‡∏ö‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à ‚ù§Ô∏è</button>
        </div>

        <div id="section-finale" class="hidden-section section-fade">
            <h1 class="text-4xl text-rose-600 mb-4">MISSION COMPLETE!</h1>
            <p class="text-slate-400 font-bold tracking-[0.4em] text-xs uppercase">Happy Valentine's Day</p>
            <div class="text-8xl mt-12">ü•∞</div>
        </div>

    </div>

    <script>
        // ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏•‡∏≤‡∏¢‡∏°‡∏∑‡∏≠
        const questions = [
            "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏¢‡πâ‡∏≠‡∏ô‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?",
            "‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?",
            "‡∏ä‡∏≠‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏´‡∏°‡πÄ‡∏≠‡πà‡∏¢?",
            "‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÑ‡∏´‡∏°?",
            "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏°‡∏≤‡∏â‡∏•‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞?",
            "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∞‡πÑ‡∏õ‡∏î‡∏π‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?",
            "‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ô‡∏∞?",
            "‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡∏ô‡∏∞?"
        ];
        const randomCaptions = ["‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç", "‡∏¢‡∏¥‡πâ‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÜ", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤", "‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ô‡∏∞", "‡πÄ‡∏ß‡∏•‡∏≤‡∏Æ‡∏≤‡πÜ", "‡πÇ‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏´‡∏ß‡∏≤‡∏ô‡πÜ", "‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏°‡∏≠", "‡∏ß‡∏¥‡∏ß‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å", "‡∏ó‡∏£‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", "‡∏´‡∏±‡∏ß‡πÉ‡∏à"];
        const foodCaptions = ["‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å!", "‡πÄ‡∏î‡∏ó‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤", "‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÜ", "‡∏¢‡∏±‡∏°‡∏°‡∏µ‡πà!", "‡∏°‡∏∑‡πâ‡∏≠‡∏Ñ‡πà‡∏≥‡∏™‡∏∏‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏©", "‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢", "‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ï‡∏≠‡∏ô‡∏Å‡∏¥‡∏ô", "‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î", "‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô", "‡∏Ñ‡∏ô‡∏´‡∏¥‡∏ß 2024"];
        
        let currentStep = 0;

        function createParticles() {
            const container = document.getElementById('particles-bg');
            const icons = ['‚ù§Ô∏è', 'üíñ', '‚ú®', 'üå∏', '‚òÅÔ∏è'];
            for(let i=0; i<20; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.innerText = icons[Math.floor(Math.random()*icons.length)];
                p.style.left = Math.random() * 100 + 'vw';
                p.style.fontSize = (Math.random() * 20 + 10) + 'px';
                p.style.animationDelay = (Math.random() * 8) + 's';
                container.appendChild(p);
            }
        }
        createParticles();

        function transition(from, to, bgColor) {
            document.getElementById(from).classList.add('hidden-section');
            document.getElementById(to).classList.remove('hidden-section');
            if(bgColor) document.body.style.backgroundColor = bgColor;
        }

        function checkCode() {
            if (document.getElementById('passcode').value === '1402') {
                transition('section-decoder', 'section-questions', '#fff1f2');
                updateQuestion();
            } else { alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ 1402 ‡∏ô‡∏∞‡∏Ñ‡∏∞"); }
        }

        function updateQuestion() {
            if (currentStep < questions.length) {
                document.getElementById('status-msg').innerText = `‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà ${currentStep + 1} ‡∏à‡∏≤‡∏Å 8`;
                document.getElementById('question-text').innerText = questions[currentStep];
                resetNoBtn();
            } else {
                transition('section-questions', 'section-random', '#fafaf9');
                generateStack('random', 10, randomCaptions);
            }
        }

        function handleYes() {
            confetti({ particleCount: 30, spread: 60, origin: { y: 0.8 }, colors: ['#f43f5e'] });
            currentStep++; 
            updateQuestion();
        }

        function resetNoBtn() {
            const btn = document.getElementById('no-btn');
            btn.style.left = "50%";
            btn.style.top = "auto";
            btn.style.bottom = "20px";
            btn.style.transform = "translateX(-50%)";
        }

        const noBtn = document.getElementById('no-btn');
        const btnArea = document.getElementById('btn-area');

        noBtn.addEventListener('mouseover', function() {
            const containerWidth = btnArea.clientWidth;
            const containerHeight = btnArea.clientHeight;
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;

            const newX = Math.random() * (containerWidth - btnWidth);
            const newY = Math.random() * (containerHeight - btnHeight);

            noBtn.style.left = `${newX}px`;
            noBtn.style.top = `${newY}px`;
            noBtn.style.bottom = "auto";
            noBtn.style.transform = "none";
        });

        function generateStack(type, count, captions) {
            const container = document.getElementById(type === 'random' ? 'stack-random' : 'stack-food');
            container.innerHTML = '';
            let remaining = count;

            for(let i = 0; i < count; i++) {
                const div = document.createElement('div');
                div.className = 'stacked-photo';
                div.style.zIndex = count - i;
                div.style.transform = `rotate(${(Math.random() - 0.5) * 15}deg) translateY(${i*-1}px)`;
                
                div.innerHTML = `
                    <img src="${type}${i+1}.jpg" onerror="this.src='https://via.placeholder.com/300x400/f8fafc/f43f5e?text=${type}+${i+1}'">
                    <div class="photo-caption">${captions[i]}</div>
                `;
                
                div.onclick = function(e) {
                    e.stopPropagation();
                    this.classList.add('photo-out');
                    remaining--;
                    if(remaining === 0) {
                        setTimeout(() => {
                            if(type === 'random') {
                                transition('section-random', 'section-food', '#f0fdf4');
                                generateStack('food', 10, foodCaptions);
                            } else {
                                transition('section-food', 'section-card', '#fff1f2');
                            }
                        }, 800);
                    }
                };
                container.appendChild(div);
            }
        }

        function finalize() {
            transition('section-card', 'section-finale');
            const end = Date.now() + 10000;
            (function frame() {
                confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0, y: 0.8 } });
                confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1, y: 0.8 } });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }
    </script>
</body>
</html>
