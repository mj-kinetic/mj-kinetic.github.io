<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MJ-Lab | Modern Memory Box</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Cherry+Bomb+One&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #f43f5e;
            --bg-soft: #fff1f2;
        }
        body { 
            background-color: var(--bg-soft); 
            overflow: hidden; 
            font-family: 'Montserrat', sans-serif;
            font-weight: 500; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ */
            transition: background-color 1.5s ease;
        }
        h1, .font-cute { font-family: 'Cherry Bomb One', cursive; }
        
        .modern-title { font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; }
        .modern-btn { font-weight: 600; letter-spacing: 0.02em; }
        .question-text { font-weight: 500; line-height: 1.5; color: #334155; }

        /* ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ */
        .section-enter { animation: fadeIn 0.8s ease-out forwards; }
        .section-exit { animation: fadeOut 0.6s ease-in forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; transform: translateY(-10px); } }

        /* ‡∏Å‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û */
        .photo-stack { position: relative; width: 260px; height: 320px; margin: 0 auto; }
        .stacked-photo {
            position: absolute; width: 100%; height: 100%;
            background: white; padding: 12px 12px 45px 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-radius: 15px;
            cursor: pointer; 
            transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
        }
        .stacked-photo img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; }
        .photo-out { transform: translate(150%, -30%) rotate(30deg) opacity: 0 !important; pointer-events: none; }

        /* ‡∏õ‡∏∏‡πà‡∏° NO: ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß Smooth */
        #no-btn {
            background-color: #e2e8f0; /* ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤‡∏≠‡πà‡∏≠‡∏ô (Slate-200) */
            color: #64748b; /* ‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÄ‡∏ó‡∏≤‡πÄ‡∏Ç‡πâ‡∏° */
            transition: transform 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            will-change: transform;
        }
        #no-btn:hover { background-color: #cbd5e1; }
        
        .hidden-section { display: none; }
    </style>
</head>
<body class="text-slate-700 flex items-center justify-center min-h-screen p-4 overflow-hidden">

    <div id="main-container" class="bg-white p-10 md:p-14 rounded-[3rem] shadow-2xl max-w-lg w-full text-center relative z-50 border-2 border-pink-50">
        
        <div id="display-icon" class="text-5xl mb-8 opacity-80">üéÅ</div>

        <div id="section-decoder" class="section-enter">
            <h1 class="text-3xl text-rose-500 mb-2">Secret Lab</h1>
            <p class="modern-title text-[11px] mb-8 text-slate-400">Memory Authentication</p>
            <input type="text" id="passcode" placeholder="----" maxlength="4" class="bg-rose-50 border-none rounded-2xl px-4 py-4 text-center text-rose-500 text-3xl font-bold tracking-[0.5em] focus:ring-2 focus:ring-rose-200 w-full mb-8">
            <button onclick="checkCode()" class="w-full bg-rose-500 text-white py-4 rounded-2xl shadow-lg hover:bg-rose-600 transition-all modern-btn uppercase text-sm">Unlock Vault</button>
        </div>

        <div id="section-questions" class="hidden-section">
            <p id="status-msg" class="modern-title text-[10px] text-rose-400 mb-6"></p>
            <h2 id="question-text" class="text-2xl question-text min-h-[5rem] flex items-center justify-center px-4 font-semibold"></h2>
            
            <div id="btn-area" class="flex flex-col items-center gap-6 mt-10 relative min-h-[160px]">
                <button onclick="handleYes()" class="bg-rose-500 text-white px-20 py-4 rounded-full text-lg shadow-xl shadow-rose-100 transition-all hover:bg-rose-600 active:scale-95 modern-btn">YES</button>
                <button id="no-btn" class="px-14 py-3 rounded-full text-md modern-btn">NO</button>
            </div>
        </div>

        <div id="section-random" class="hidden-section">
            <h2 class="text-3xl text-rose-500 mb-2 font-cute">Random Moments</h2>
            <p class="modern-title text-[10px] text-slate-400 mb-10 tracking-[0.2em]">Archive // 01</p>
            <div id="stack-random" class="photo-stack"></div>
        </div>

        <div id="section-food" class="hidden-section">
            <h2 class="text-3xl text-rose-500 mb-2 font-cute">Delicious Logic</h2>
            <p class="modern-title text-[10px] text-slate-400 mb-10 tracking-[0.2em]">Archive // 02</p>
            <div id="stack-food" class="photo-stack"></div>
        </div>

        <div id="section-card" class="hidden-section">
            <div class="text-rose-300 text-2xl mb-6">‚ú¶</div>
            <h3 class="text-3xl text-rose-500 mb-8 font-cute">For You</h3>
            <div class="space-y-4 text-slate-600 text-lg font-medium italic leading-relaxed">
                <p>"‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠‡∏°‡∏≤"</p>
                <p>"‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏•‡∏≠‡∏à‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞"</p>
            </div>
            <div class="mt-12">
                <button onclick="finalize()" class="bg-rose-500 text-white px-12 py-4 rounded-full text-sm shadow-xl animate-pulse modern-btn uppercase">Celebrate ‚ù§Ô∏è</button>
            </div>
        </div>

        <div id="section-finale" class="hidden-section">
            <h1 class="text-4xl text-rose-600 mb-2">HAPPY VALENTINE!</h1>
            <p class="modern-title text-[10px] text-rose-300 tracking-[0.5em]">MJ-Lab Sequence Complete</p>
            <div class="text-8xl mt-12 opacity-90">ü•∞</div>
        </div>

    </div>

    <script>
        const questions = [
            "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡∏Ñ‡∏∞?",
            "‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Logic) ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?",
            "‡∏ä‡∏≠‡∏ö Lab ‡∏ó‡∏µ‡πà MJ ‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤?",
            "‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏£‡∏≠‡∏≠‡∏¢‡∏π‡πà ‡∏à‡∏∞‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡πÑ‡∏´‡∏°‡∏ô‡∏∞?",
            "‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏â‡∏•‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?",
            "‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÉ‡∏à‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?",
            "‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß... ‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡πÑ‡∏´‡∏°?",
            "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢... Will you be my Valentine?"
        ];
        let currentStep = 0;

        function transition(from, to, bg) {
            const fromEl = document.getElementById(from);
            const toEl = document.getElementById(to);
            fromEl.classList.add('section-exit');
            if(bg) document.body.style.backgroundColor = bg;
            setTimeout(() => {
                fromEl.style.display = 'none';
                fromEl.classList.remove('section-exit');
                toEl.style.display = 'block';
                toEl.classList.add('section-enter');
            }, 600);
        }

        function checkCode() {
            if (document.getElementById('passcode').value === '1402') {
                transition('section-decoder', 'section-questions');
                document.getElementById('display-icon').innerText = 'üíå';
                updateQuestion();
            } else { alert("Code is 1402 ‚ù§Ô∏è"); }
        }

        function updateQuestion() {
            if (currentStep < questions.length) {
                document.getElementById('status-msg').innerText = `PHASE 02 // SEQUENCE 0${currentStep + 1}`;
                document.getElementById('question-text').innerText = questions[currentStep];
                resetNoBtn();
            } else {
                transition('section-questions', 'section-random', '#fafafa');
                document.getElementById('display-icon').innerText = 'üì∏';
                generateStack('random', 10);
            }
        }

        function handleYes() {
            confetti({ particleCount: 30, spread: 60, origin: { y: 0.8 }, colors: ['#f43f5e', '#ffffff'] });
            currentStep++; 
            updateQuestion();
        }

        function resetNoBtn() {
            const btn = document.getElementById('no-btn');
            btn.style.position = "static";
            btn.style.transform = "none";
        }

        document.getElementById('no-btn').addEventListener('mouseover', function() {
            this.style.position = "fixed";
            const box = document.getElementById('main-container').getBoundingClientRect();
            
            // ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á: ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏Ñ‡πà‡∏£‡∏≠‡∏ö‡πÜ ‡∏Å‡∏•‡πà‡∏≠‡∏á MJ-Lab ‡πÑ‡∏°‡πà‡∏´‡∏•‡∏∏‡∏î‡πÑ‡∏õ‡πÑ‡∏Å‡∏•
            const padding = 50;
            const minX = box.left - padding;
            const maxX = box.right - 80;
            const minY = box.top - padding;
            const maxY = box.bottom - 40;

            const newX = Math.random() * (maxX - minX) + minX;
            const newY = Math.random() * (maxY - minY) + minY;

            this.style.left = '0px';
            this.style.top = '0px';
            this.style.transform = `translate(${newX}px, ${newY}px)`;
        });

        function generateStack(type, count) {
            const container = document.getElementById(type === 'random' ? 'stack-random' : 'stack-food');
            let remaining = count;
            for(let i = 0; i < count; i++) {
                const div = document.createElement('div');
                div.className = 'stacked-photo';
                div.style.transform = `rotate(${(Math.random() - 0.5) * 15}deg)`;
                div.style.zIndex = count - i;
                div.innerHTML = `<img src="${type}${i+1}.jpg" onerror="this.src='https://via.placeholder.com/300x400/fff1f2/f43f5e?text=${type}+${i+1}'">`;
                
                div.onclick = function() {
                    this.classList.add('photo-out');
                    remaining--;
                    if(remaining === 0) {
                        setTimeout(() => {
                            if(type === 'random') {
                                transition('section-random', 'section-food', '#f8fafc');
                                generateStack('food', 10);
                            } else {
                                transition('section-food', 'section-card', '#fff1f2');
                            }
                        }, 800);
                    }
                };
                container.appendChild(div);
            }
        }

        function finalize() {
            transition('section-card', 'section-finale');
            const end = Date.now() + 15000;
            (function frame() {
                confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0, y: 0.8 }, colors: ['#f43f5e', '#ffffff'] });
                confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1, y: 0.8 }, colors: ['#f43f5e', '#ffffff'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }
    </script>
</body>
</html>
